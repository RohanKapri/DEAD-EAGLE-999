.globl difference_of_squares

.text

difference_of_squares:

move $t0, $a0
addi $t0, $t0, 1 # n + 1

mult $a0, $t0
mflo $t1
srl $t1, $t1, 1 # n (n + 1) / 2

add $t2, $a0, $t0 # 2n + 1

mult $t1, $t2
mflo $t3 # n (n + 1) (2n + 1) / 2

li $t4, 3
div $t3, $t4
mflo $t4 # n (n + 1) (2n + 1) / 6

mult $t1, $t1
mflo $t5 # [n (n+1) / 2]**2

subu $v0, $t5, $t4 # [n (n+1) / 2]**2 - n (n + 1) (2n + 1) / 6

jr $ra